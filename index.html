<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D-T Fusion Energy Balance Simulator</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", Roboto, sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: white;
}

.container {
    max-width: 900px;
    margin: 50px auto;
    padding: 30px;
    background: rgba(255,255,255,0.08);
    border-radius: 15px;
    backdrop-filter: blur(12px);
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
}

h1 {
    text-align: center;
    margin-bottom: 30px;
}

label {
    display: block;
    margin-top: 20px;
    font-weight: 600;
}

input, select {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border-radius: 6px;
    border: none;
    font-size: 15px;
}

button {
    margin-top: 25px;
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: none;
    background: linear-gradient(to right, #00c6ff, #0072ff);
    color: white;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.2s;
}

button:hover {
    transform: scale(1.02);
}

.results {
    margin-top: 35px;
    padding: 20px;
    background: rgba(0,0,0,0.4);
    border-radius: 10px;
}

.status {
    font-size: 18px;
    font-weight: bold;
    margin-top: 15px;
}

.ignite { color: #00ff9d; }
.noignite { color: #ff5f5f; }
</style>
</head>

<body>

<div class="container">

<h1>D-T Fusion Energy Balance Simulator</h1>

<label>Temperature (keV)</label>
<input type="number" id="temperature" value="20" min="1" step="any">

<label>Density (particles/cm³)</label>
<input type="number" id="density" value="1e14" min="1" step="any">

<label>Confinement Time</label>
<input type="number" id="timeValue" value="1" min="0" step="any">

<select id="timeUnit">
    <option value="1e-9">Nanoseconds</option>
    <option value="1e-6">Microseconds</option>
    <option value="1e-3">Milliseconds</option>
    <option value="1">Seconds</option>
</select>

<button onclick="runSimulation()">Run Simulation</button>

<div class="results">
    <p id="reactionRate"></p>
    <p id="fusionPower"></p>
    <p id="alphaPower"></p>
    <p id="lossPower"></p>
    <p id="totalEnergy"></p>
    <p id="ignitionStatus" class="status"></p>
</div>

</div>

<script>

function runSimulation() {

    let T = parseFloat(document.getElementById("temperature").value);
    let dens_cm3 = parseFloat(document.getElementById("density").value);
    let timeVal = parseFloat(document.getElementById("timeValue").value);
    let timeUnit = parseFloat(document.getElementById("timeUnit").value);

    if (!T || !dens_cm3 || timeVal < 0) {
        alert("Enter valid positive numbers.");
        return;
    }

    let density = dens_cm3 * 1e6;   // cm³ → m³
    let tau = timeVal * timeUnit;

    // Physical constants
    const keV_to_J = 1.602e-16;
    const E_total = 2.82e-12;      // 17.6 MeV in Joules
    const alpha_fraction = 3.5 / 17.6;  // Only alpha heats plasma (~0.2)

    // Reactivity approximation (valid mainly 10–30 keV)
    let sigmaV = 1.1e-24 * T * T;

    // Reaction rate (50/50 D-T plasma → n²/4)
    let R = 0.25 * density * density * sigmaV;

    // Total fusion power density
    let Pfusion = R * E_total;

    // Alpha heating power
    let Palpha = Pfusion * alpha_fraction;

    // Thermal energy density (D + T species)
    let thermalEnergyDensity = 3 * density * T * keV_to_J;

    // Confinement loss power density
    let Ploss = thermalEnergyDensity / tau;

    // Total fusion energy over confinement time
    let totalEnergy = Pfusion * tau;

    // Ignition condition: alpha heating ≥ losses
    let ignition = Palpha >= Ploss;

    document.getElementById("reactionRate").innerText =
        "Reaction Rate: " + R.toExponential(3) + " reactions/s/m³";

    document.getElementById("fusionPower").innerText =
        "Total Fusion Power Density: " + Pfusion.toExponential(3) + " W/m³";

    document.getElementById("alphaPower").innerText =
        "Alpha Heating Power Density: " + Palpha.toExponential(3) + " W/m³";

    document.getElementById("lossPower").innerText =
        "Confinement Loss Power Density: " + Ploss.toExponential(3) + " W/m³";

    document.getElementById("totalEnergy").innerText =
        "Total Fusion Energy: " + totalEnergy.toExponential(3) + " J/m³";

    let status = document.getElementById("ignitionStatus");

    if (ignition) {
        status.innerText = "Ignition Achieved (Alpha heating ≥ losses)";
        status.className = "status ignite";
    } else {
        status.innerText = "Below Ignition (Losses exceed alpha heating)";
        status.className = "status noignite";
    }
}

</script>

</body>
</html>

