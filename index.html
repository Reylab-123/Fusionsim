<!DOCTYPE html>
<html>
<head>
<title>D-T Fusion Ignition Model</title>

<style>
body {
    background: #0a0f1f;
    color: #00f0ff;
    font-family: Consolas, monospace;
    text-align: center;
}

h1 {
    color: white;
}

.shoutout {
    margin-top: 5px;
    font-size: 14px;
    color: #aaaaaa;
    letter-spacing: 2px;
}

.container {
    margin-top: 25px;
}

input {
    padding: 6px;
    margin: 5px;
    width: 140px;
    background: #111;
    color: #00f0ff;
    border: 1px solid #00f0ff;
}

button {
    padding: 8px 15px;
    margin-top: 10px;
    background: #00f0ff;
    border: none;
    font-weight: bold;
    cursor: pointer;
}

.result {
    margin-top: 20px;
}
</style>
</head>

<body>

<h1>D-T Fusion Ignition Simulator</h1>
<div class="shoutout">
Shoutout to Eternity, Infinity, Death
</div>

<div class="container">
    Temperature (keV):<br>
    <input id="temp" value="10"><br>

    Density (particles/cm¬≥):<br>
    <input id="density" value="1e14"><br>

    Confinement Time (s):<br>
    <input id="tau" value="1"><br>

    <button onclick="runSimulation()">Run Simulation</button>

    <div class="result" id="output"></div>
</div>

<script>

// ===============================
// Bosch-Hale 1992 Reactivity
// ===============================
function reactivityDT(T) {

    if (T <= 0) return 0;

    const C1 = 1.17302e-9;
    const C2 = 1.51361e-2;
    const C3 = 7.51886e-2;
    const C4 = 4.60643e-3;
    const C5 = 1.35000e-2;
    const C6 = -1.06750e-4;
    const C7 = 1.36600e-5;
    const B_G = 34.3827;
    const m_rc2 = 1124656; // keV

    let poly_num = C2 + T*(C4 + T*C6);
    let poly_den = C3 + T*(C5 + T*C7);

    let theta_denom = 1 - (T * poly_num) / (1 + T * poly_den);

    if (theta_denom <= 0) return 0;

    let theta = T / theta_denom;

    let xi = Math.pow((B_G*B_G)/(4*theta), 1/3);

    let sqrt_term = Math.sqrt(xi / (m_rc2 * Math.pow(T,3)));

    let sigmaV = C1 * theta * sqrt_term * Math.exp(-3*xi);

    if (!isFinite(sigmaV) || sigmaV < 0) return 0;

    return sigmaV;
}

// ===============================
// Main Simulation
// ===============================
function runSimulation() {

    let T = parseFloat(document.getElementById("temp").value);
    let n_cm = parseFloat(document.getElementById("density").value);
    let tau = parseFloat(document.getElementById("tau").value);

    if (T <= 0 || n_cm <= 0 || tau <= 0) {
        document.getElementById("output").innerHTML = "Invalid input values.";
        return;
    }

    // Convert cm^-3 to m^-3
    let n = n_cm * 1e6;

    let sigmaV = reactivityDT(T);

    // Reaction rate per m^3
    let reactionRate = 0.25 * n * n * sigmaV;

    // Energy per D-T reaction (17.6 MeV)
    const E_fusion = 17.6e6 * 1.602176634e-19;

    let powerDensity = reactionRate * E_fusion;

    // Plasma energy density (3 n kT)
    // 1 keV = 1.602176634e-16 J
    let energyDensity = 3 * n * T * 1.602176634e-16;

    let lossPower = energyDensity / tau;

    let ignition = powerDensity > lossPower;

    document.getElementById("output").innerHTML =
        "<b>Reactivity &lt;œÉv&gt;:</b> " + sigmaV.toExponential(3) + " m¬≥/s<br>" +
        "<b>Reaction Rate:</b> " + reactionRate.toExponential(3) + " reactions/m¬≥/s<br>" +
        "<b>Fusion Power Density:</b> " + powerDensity.toExponential(3) + " W/m¬≥<br>" +
        "<b>Loss Power Density:</b> " + lossPower.toExponential(3) + " W/m¬≥<br><br>" +
        (ignition ? "üî• Ignition Achieved" : "‚ùÑ No Ignition");
}

</script>

</body>
</html>

